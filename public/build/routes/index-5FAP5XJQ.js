import{a as v,b as i,d as C,f as u,g as m,k as h,l as p,p as f}from"/build/_shared/chunk-Q7DGUZWU.js";var x=v((T,d)=>{d.exports={}});var o=i(C());var N=i(x()),t=i(f());function A({chat:r}){return(0,t.jsx)("div",{className:`${r.author==="ai"?"bg-blue-300":"bg-green-300"} w-3/4 p-3 rounded text-gray-900`,children:r.text})}function g(){let r=h(),s=(0,o.useRef)(null),n=(0,o.useRef)(null),{state:c}=p(),[a,l]=(0,o.useState)([{author:"ai",text:"Hello, what would you like to ask me?"}]),y=m();function w(e){e.key==="Enter"&&s.current&&(e.preventDefault(),y(s.current,{replace:!0}))}return(0,o.useEffect)(()=>{if(s.current&&c==="submitting"){let e={author:"user",text:s.current.prompt.value};l([...a,e]),s.current.reset()}},[c]),(0,o.useEffect)(()=>{if(r!=null&&r.response){let e={author:"ai",text:r.response};return l([...a,e])}else if(r!=null&&r.error){let e={author:"ai",text:"Oops, I didn't get that. Could you try again?"};return l([...a,e])}},[r]),(0,o.useEffect)(()=>{var e;a&&n.current&&((e=n.current)==null||e.scrollTo({top:n.current.scrollHeight,behavior:"smooth"}))},[a]),(0,t.jsx)("div",{className:"flex flex-col items-center justify-start w-full h-screen",children:(0,t.jsxs)("div",{className:"flex w-full md:max-w-md h-screen md:h-auto flex-col items-center justify-start py-4 px-4",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start mt-4",children:[(0,t.jsx)("img",{src:"/logo.png",width:80,height:80,className:"rounded-2xl mr-4",alt:"Logo"}),(0,t.jsx)("h1",{children:"Talk to [TS3K]"})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full h-[400px] md:h-[500px] p-2 bg-gray-800 border border-gray-600 rounded mt-8 overflow-y-scroll relative",children:[(0,t.jsx)("ul",{className:"flex flex-col w-full h-full overflow-y-scroll space-y-4 pb-8",ref:n,children:a.map((e,b)=>(0,t.jsx)("li",{className:`flex flex-row ${e.author==="ai"?"justify-start":"justify-end"}`,children:(0,t.jsx)(A,{chat:e})},b))}),(0,t.jsxs)(u,{method:"post",ref:s,className:"relative h-24",children:[(0,t.jsx)("textarea",{name:"prompt",required:!0,className:"w-full h-24 resize-none bg-gray-400 rounded p-3 pr-24 text-gray-900 placeholder:text-gray-600",placeholder:"Start chatting with [TS3K]...",onKeyDown:w}),(0,t.jsx)("button",{type:"submit",className:"absolute bottom-3 right-3",children:"Send"}),(0,t.jsx)("input",{type:"hidden",name:"previous-chats",value:JSON.stringify(a)})]})]}),(0,t.jsxs)("div",{className:"mt-8 text-sm text-gray-400 text-center",children:["TS3K was Made with"," ",(0,t.jsx)("a",{href:"https://github.com/sudo-self/",children:"superpowers"})]})]})})}export{g as default};
